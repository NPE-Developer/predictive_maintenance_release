"use strict";(self.webpackChunknagamas_frontend=self.webpackChunknagamas_frontend||[]).push([[556],{1982:(e,a,n)=>{n.d(a,{A:()=>i});const i={box:"Popup_box__L6ukI",modalPilih:"Popup_modalPilih__A4Edx",slideIn:"Popup_slideIn__CW6qc",containerfilter:"Popup_containerfilter__OBopv",modalConfirm:"Popup_modalConfirm__D-kYn",tabView:"Popup_tabView__GpztR",modalKeyboardNumeric:"Popup_modalKeyboardNumeric__9bmMr",modalKeyboard:"Popup_modalKeyboard__0ECMp",buttonKey:"Popup_buttonKey__4FEI6",modalTable:"Popup_modalTable__S-lni",modal:"Popup_modal__oHjOC",modaldetail:"Popup_modaldetail__uqSWM",buttons:"Popup_buttons__6SigF",input:"Popup_input__l3MOR",title:"Popup_title__53Wuz",modalpilih:"Popup_modalpilih__V8Sgk",form:"Popup_form__8bjUk",containerkey:"Popup_containerkey__xsPEg",modalmobile:"Popup_modalmobile__kvm78",hide:"Popup_hide__ieQY9",close:"Popup_close__eT9CH",frame:"Popup_frame__v0jqt"}},2065:(e,a,n)=>{n.r(a),n.d(a,{default:()=>f});var i=n(5043),t=n(2573);const r={conWrapper:"SensorConfig_conWrapper__LD+Ps",conItem:"SensorConfig_conItem__Y7g5R",conHeader:"SensorConfig_conHeader__sD4l7",conBody:"SensorConfig_conBody__nMyRY",bodyWrapper:"SensorConfig_bodyWrapper__TGkru",bodyLeft:"SensorConfig_bodyLeft__qvan7",bodyLeftHeader:"SensorConfig_bodyLeftHeader__VbwNz",headerItem:"SensorConfig_headerItem__qZww4",headerDot:"SensorConfig_headerDot__t7Pt5",headerDisconnect:"SensorConfig_headerDisconnect__vubHC",headerConnect:"SensorConfig_headerConnect__rGgVY",bodyLeftBody:"SensorConfig_bodyLeftBody__RRbCw",bodyLeftBodyCard:"SensorConfig_bodyLeftBodyCard__lHOFp",deviceImageWrapper:"SensorConfig_deviceImageWrapper__py01e",deviceImage:"SensorConfig_deviceImage__FkD+4",deviceInfo:"SensorConfig_deviceInfo__hPrNJ",label:"SensorConfig_label__GpcS6",inputedit:"SensorConfig_inputedit__PYWpa",infoRow:"SensorConfig_infoRow__LIVBO",infoLabel:"SensorConfig_infoLabel__aG4tR",infoValue:"SensorConfig_infoValue__TXh01",bodyLeftFooter:"SensorConfig_bodyLeftFooter__-ZZlh",bodyLeftFooterButton:"SensorConfig_bodyLeftFooterButton__0rqP-",bodyRight:"SensorConfig_bodyRight__8sxNP",bodyRightForm:"SensorConfig_bodyRightForm__3LVyH",formLeft:"SensorConfig_formLeft__QMe5f",formMid:"SensorConfig_formMid__baM06",formRight:"SensorConfig_formRight__njmAE",bodyRightButton:"SensorConfig_bodyRightButton__x9aI8",pageButton:"SensorConfig_pageButton__wnMdI",tooltipText:"SensorConfig_tooltipText__n7WaM",active:"SensorConfig_active__on1ny",pageIndicator:"SensorConfig_pageIndicator__eMZld",pageIndicatorWrapper:"SensorConfig_pageIndicatorWrapper__zxHvl",rotate:"SensorConfig_rotate__pWG5d",rightButton:"SensorConfig_rightButton__L4dAS",bodyRightStatus:"SensorConfig_bodyRightStatus__L6rAj",bodyRightStatusLeft:"SensorConfig_bodyRightStatusLeft__s+5tr",bodyRightStatusRight:"SensorConfig_bodyRightStatusRight__LAw4S",saveButton:"SensorConfig_saveButton__mIOuQ",paramItem:"SensorConfig_paramItem__a0i3x",statusDot:"SensorConfig_statusDot__-ECU7",statusEditable:"SensorConfig_statusEditable__dLVkb",statusRead:"SensorConfig_statusRead__04AZG"},l=n.p+"static/media/sensor_pressure.4d7c0bb96528706fb69f.png",s=n.p+"static/media/logo-sensor-vibration.abb83416274abc7cc666.png";var o=n(4761),d=n(8682),c=n(414),_=n(8443),u=n(2340);class m{static async GetSensorConfigByMachineID(e){let a=await u.A.fetchAuth(`${_.C}/api/v1/machine/config?machine_id=${e}`);if(200!==a.status)throw new Error(a.message);return{machine_id:a.data.machine_id,pressure_max_warn:a.data.pressure_max_warn,pressure_max_alarm:a.data.pressure_max_alarm,pressure_min_warn:a.data.pressure_min_warn,pressure_min_alarm:a.data.pressure_min_alarm,x_warn:a.data.x_warn,x_alarm:a.data.x_alarm,x_acc_warn:a.data.x_acc_warn,x_acc_alarm:a.data.x_acc_alarm,z_warn:a.data.z_warn,z_alarm:a.data.z_alarm,z_acc_warn:a.data.z_acc_warn,z_acc_alarm:a.data.z_acc_alarm,temp_warn:a.data.temp_warn,temp_alarm:a.data.temp_alarm}}static async AddSensorConfig(e,a){let n=await u.A.fetchAuth(`${_.C}/api/v1/machine/config`,{method:"POST",body:JSON.stringify({machine_id:e,fields:a}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(n.message);return n}static async GetSensorConfigRealtime(e){const a=await u.A.fetchAuth(`${_.C}/api/v1/machine/config/realtime?machine_id=${encodeURIComponent(e)}`);if(200!==a.status)throw new Error("Failed to fetch sensor config realtime data.");const n=[];for(let i=0;i<a.data.length;i++){const e=a.data[i];n.push({pressure:e.pressure_last_data.pressure,pressure_connect:e.pressure_last_data.connect,x:e.vibration_last_data.x,x_acc:e.vibration_last_data.x_acc,z:e.vibration_last_data.z,z_acc:e.vibration_last_data.z_acc,temp:e.vibration_last_data.temp,vibration_connect:e.vibration_last_data.connect})}return n}}var p=n(2021),v=n(3950),h=n(579);function f(){var e,a,n,_,u,f,x,b,g,y,j,w,C,S,N,P,A,R,I,L,k,z,T,E,B,W,M,$,O,F,D,q,V,H,G,Z,U,X,K,Y,J,Q,ee,ae,ne,ie;const te=(0,i.useContext)(t.A),re=te.contextAccessToken,le=te.contextShowAlertFunc,se=te.contextShowLoadingFunc,[oe,de]=(te.stateShowLoading,(0,i.useState)(null)),[ce,_e]=(0,i.useState)(null),[ue,me]=(0,i.useState)(null),[pe,ve]=(0,i.useState)(!1),[he,fe]=(0,i.useState)(),[xe,be]=(0,i.useState)([]),ge=["Vibration","Pressure"],[ye,je]=(0,i.useState)(0),we=ge[ye],Ce=async e=>{try{const a=await m.GetSensorConfigByMachineID(e.machine_id);de(e),_e(a)}catch(a){le(new c.u({message:a instanceof Error?a.message:a.toString(),level:3}))}},Se=e=>{const{label:a,value:n,required:i,attribute:t,onchange:r,type_input:l}=e,s=["pressure_max_warn","pressure_max_alarm","x_warn","x_alarm","x_acc_warn","x_acc_alarm","z_warn","pressure_min_warn","pressure_min_alarm","z_alarm","z_acc_warn","z_acc_alarm","temp_warn","temp_alarm"].includes(t);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{children:[a," ",i&&(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,h.jsx)("input",{type:l,style:{marginBottom:"0.5rem",fontSize:"1rem",fontWeight:"bolder"},value:n,onChange:null!==r&&void 0!==r?r:e=>{const a=s?parseInt(e.target.value):e.target.value;me(e=>({...e,[t]:a}))}})]})},Ne=async()=>{if(void 0!=oe)try{const e=await m.GetSensorConfigRealtime(oe.machine_id);be(e)}catch(e){le(new c.u({message:e instanceof Error?e.message:e.toString(),level:3}))}},Pe=()=>{var e,a;return"Pressure"===we?(null===(e=xe[0])||void 0===e?void 0:e.pressure_connect)||!1:128===(null===(a=xe[0])||void 0===a?void 0:a.vibration_connect)};return(0,i.useEffect)(()=>{if(Ne(),oe){const e=setInterval(Ne,3e3);return()=>{clearInterval(e)}}},[re,oe]),(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("div",{className:r.conWrapper,children:(0,h.jsxs)("div",{className:r.conItem,children:[(0,h.jsx)("div",{className:r.conHeader,children:"Sensor Config"}),(0,h.jsx)("div",{className:r.conBody,children:(0,h.jsxs)("div",{className:r.bodyWrapper,children:[(0,h.jsxs)("div",{className:r.bodyLeft,children:[(0,h.jsx)("div",{className:r.bodyLeftHeader,children:(0,h.jsxs)("div",{className:r.headerItem,children:[(0,h.jsx)("span",{className:`${r.headerDot} ${Pe()?r.headerConnect:r.headerDisconnect}`}),Pe()?"Connected":"Not Connected"]})}),(0,h.jsx)("div",{className:r.bodyLeftBody,children:(0,h.jsxs)("div",{className:r.bodyLeftBodyCard,children:[(0,h.jsx)("div",{className:r.deviceImageWrapper,children:(0,h.jsx)("img",{src:"Pressure"==we?l:s,alt:"QM30VT2 Sensor",className:r.deviceImage})}),(0,h.jsxs)("div",{className:r.deviceInfo,children:[(0,h.jsx)("div",{className:r.label,children:"Device"}),(0,h.jsx)("input",{className:r.input,type:"text",readOnly:!0,value:null!==(e=null===oe||void 0===oe?void 0:oe.machine)&&void 0!==e?e:"",onClick:async()=>{se(!0);try{const e=await v.t.GetAllMachine();fe(new o.U({popupTitle:"Select Machine",tableContent:e,onClick:async e=>{Ce(e)},onClose:()=>{ve(!1)}})),ve(!0)}catch(e){le(new c.u({message:e instanceof Error?e.message:e.toString(),level:3}))}finally{se(!1)}}}),(0,h.jsx)("div",{className:r.label,children:"Detail Information"}),(0,h.jsxs)("div",{className:r.infoRow,children:[(0,h.jsx)("div",{className:r.infoLabel,children:(0,h.jsx)("div",{children:"Link Up"})}),(0,h.jsx)("div",{className:r.infoValue,children:(0,h.jsxs)("div",{children:[": ",null!==(a=null===oe||void 0===oe?void 0:oe.link_up)&&void 0!==a?a:"--"]})})]}),(0,h.jsxs)("div",{className:r.infoRow,children:[(0,h.jsx)("div",{className:r.infoLabel,children:(0,h.jsx)("div",{children:"Machine Type"})}),(0,h.jsx)("div",{className:r.infoValue,children:(0,h.jsxs)("div",{children:[": ",null!==(n=null===oe||void 0===oe?void 0:oe.machine_type)&&void 0!==n?n:"--"]})})]}),(0,h.jsxs)("div",{className:r.infoRow,children:[(0,h.jsx)("div",{className:r.infoLabel,children:(0,h.jsx)("div",{children:"Gateway Host"})}),(0,h.jsx)("div",{className:r.infoValue,children:(0,h.jsxs)("div",{children:[": ",null!==(_=null===oe||void 0===oe?void 0:oe.gateway_host)&&void 0!==_?_:"--"]})})]}),(0,h.jsxs)("div",{className:r.infoRow,children:[(0,h.jsx)("div",{className:r.infoLabel,children:(0,h.jsx)("div",{children:"Gateway Port"})}),(0,h.jsx)("div",{className:r.infoValue,children:(0,h.jsxs)("div",{children:[": ",null!==(u=null===oe||void 0===oe?void 0:oe.gateway_port)&&void 0!==u?u:"--"]})})]}),(0,h.jsxs)("div",{className:r.infoRow,children:[(0,h.jsx)("div",{className:r.infoLabel,children:(0,h.jsx)("div",{children:"Pressure"==we?"Pressure Slave Id":"Vibration"==we?"Vibration Slave Id":"Slave Id"})}),(0,h.jsx)("div",{className:r.infoValue,children:(0,h.jsxs)("div",{children:[": ","Pressure"==we?null===oe||void 0===oe?void 0:oe.pressure_slave_id:null!==(f=null===oe||void 0===oe?void 0:oe.vibration_slave_id)&&void 0!==f?f:"--"]})})]})]})]})})]}),(0,h.jsxs)("div",{className:r.bodyRight,children:[(0,h.jsx)("div",{className:r.bodyRightForm,children:oe?"Vibration"===we?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:r.formLeft,children:[(0,h.jsx)("div",{className:r.label,children:" X "}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(x=null===(b=xe[0])||void 0===b?void 0:b.x)&&void 0!==x?x:""}),Se({label:"X Warn",value:null!==(g=null!==(y=null===ue||void 0===ue?void 0:ue.x_warn)&&void 0!==y?y:null===ce||void 0===ce?void 0:ce.x_warn)&&void 0!==g?g:"",type_input:"number",attribute:"x_warn",required:!0}),Se({label:"X Alarm",value:null!==(j=null!==(w=null===ue||void 0===ue?void 0:ue.x_alarm)&&void 0!==w?w:null===ce||void 0===ce?void 0:ce.x_alarm)&&void 0!==j?j:"",type_input:"number",attribute:"x_alarm",required:!0}),(0,h.jsx)("div",{className:r.label,children:" X Acc"}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(C=null===(S=xe[0])||void 0===S?void 0:S.x_acc)&&void 0!==C?C:""}),Se({label:"X Acc Warn",value:null!==(N=null!==(P=null===ue||void 0===ue?void 0:ue.x_acc_warn)&&void 0!==P?P:null===ce||void 0===ce?void 0:ce.x_acc_warn)&&void 0!==N?N:"",type_input:"number",attribute:"x_acc_warn",required:!0})]}),(0,h.jsxs)("div",{className:r.formMid,children:[Se({label:"X Acc Alarm",value:null!==(A=null!==(R=null===ue||void 0===ue?void 0:ue.x_acc_alarm)&&void 0!==R?R:null===ce||void 0===ce?void 0:ce.x_acc_alarm)&&void 0!==A?A:"",type_input:"number",attribute:"x_acc_alarm",required:!0}),(0,h.jsx)("div",{className:r.label,children:" Z "}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(I=null===(L=xe[0])||void 0===L?void 0:L.z)&&void 0!==I?I:""}),Se({label:"Z Warn",value:null!==(k=null!==(z=null===ue||void 0===ue?void 0:ue.z_warn)&&void 0!==z?z:null===ce||void 0===ce?void 0:ce.z_warn)&&void 0!==k?k:"",type_input:"number",attribute:"z_warn",required:!0}),Se({label:"Z Alarm",value:null!==(T=null!==(E=null===ue||void 0===ue?void 0:ue.z_alarm)&&void 0!==E?E:null===ce||void 0===ce?void 0:ce.z_alarm)&&void 0!==T?T:"",type_input:"number",attribute:"z_alarm",required:!0}),(0,h.jsx)("div",{className:r.label,children:" Z Acc"}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(B=null===(W=xe[0])||void 0===W?void 0:W.z_acc)&&void 0!==B?B:""})]}),(0,h.jsxs)("div",{className:r.formRight,children:[Se({label:"Z Acc Warn",value:null!==(M=null!==($=null===ue||void 0===ue?void 0:ue.z_acc_warn)&&void 0!==$?$:null===ce||void 0===ce?void 0:ce.z_acc_warn)&&void 0!==M?M:"",type_input:"number",attribute:"z_acc_warn",required:!0}),Se({label:"Z Acc Alarm",value:null!==(O=null!==(F=null===ue||void 0===ue?void 0:ue.z_acc_alarm)&&void 0!==F?F:null===ce||void 0===ce?void 0:ce.z_acc_alarm)&&void 0!==O?O:"",type_input:"number",attribute:"z_acc_alarm",required:!0}),(0,h.jsx)("div",{className:r.label,children:" Temp "}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(D=null===(q=xe[0])||void 0===q?void 0:q.temp)&&void 0!==D?D:""}),Se({label:"Temp Warn",value:null!==(V=null!==(H=null===ue||void 0===ue?void 0:ue.temp_warn)&&void 0!==H?H:null===ce||void 0===ce?void 0:ce.temp_warn)&&void 0!==V?V:"",type_input:"number",attribute:"temp_warn",required:!0}),Se({label:"Temp Alarm",value:null!==(G=null!==(Z=null===ue||void 0===ue?void 0:ue.temp_alarm)&&void 0!==Z?Z:null===ce||void 0===ce?void 0:ce.temp_alarm)&&void 0!==G?G:"",type_input:"number",attribute:"temp_alarm",required:!0})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:r.formLeft,children:[(0,h.jsx)("div",{className:r.label,children:" Pressure Data "}),(0,h.jsx)("input",{className:r.inputedit,type:"text",readOnly:!0,value:null!==(U=null===(X=xe[0])||void 0===X?void 0:X.pressure)&&void 0!==U?U:""}),Se({label:"Pressure Max Warn",value:null!==(K=null!==(Y=null===ue||void 0===ue?void 0:ue.pressure_max_warn)&&void 0!==Y?Y:null===ce||void 0===ce?void 0:ce.pressure_max_warn)&&void 0!==K?K:"",type_input:"number",attribute:"pressure_max_warn",required:!0}),Se({label:"Pressure Max Alarm",value:null!==(J=null!==(Q=null===ue||void 0===ue?void 0:ue.pressure_max_alarm)&&void 0!==Q?Q:null===ce||void 0===ce?void 0:ce.pressure_max_alarm)&&void 0!==J?J:"",type_input:"number",attribute:"pressure_max_alarm",required:!0})]}),(0,h.jsxs)("div",{className:r.formRight,children:[Se({label:"Pressure Min Warn",value:null!==(ee=null!==(ae=null===ue||void 0===ue?void 0:ue.pressure_min_warn)&&void 0!==ae?ae:null===ce||void 0===ce?void 0:ce.pressure_min_warn)&&void 0!==ee?ee:"",type_input:"number",attribute:"pressure_min_warn",required:!0}),Se({label:"Pressure Min Alarm",value:null!==(ne=null!==(ie=null===ue||void 0===ue?void 0:ue.pressure_min_alarm)&&void 0!==ie?ie:null===ce||void 0===ce?void 0:ce.pressure_min_alarm)&&void 0!==ne?ne:"",type_input:"number",attribute:"pressure_min_alarm",required:!0})]})]}):(0,h.jsx)(h.Fragment,{})}),(0,h.jsxs)("div",{className:r.bodyRightButton,children:[(0,h.jsxs)("button",{className:`${r.pageButton} ${0===ye?r.active:""}`,onClick:()=>{ye>0&&je(e=>e-1)},children:[(0,h.jsx)(p.ghN,{}),(0,h.jsx)("span",{className:r.tooltipText,children:"Previous"})]}),(0,h.jsx)("div",{className:r.pageIndicatorWrapper,children:(0,h.jsx)("span",{className:r.pageIndicator,children:we})}),(0,h.jsxs)("button",{className:`${r.pageButton} ${ye===ge.length-1?r.active:""}`,onClick:()=>{ye<ge.length-1&&je(e=>e+1)},children:[(0,h.jsx)(p.Hv,{}),(0,h.jsx)("span",{className:r.tooltipText,children:"Next"})]})]}),(0,h.jsxs)("div",{className:r.bodyRightStatus,children:[(0,h.jsxs)("div",{className:r.bodyRightStatusLeft,children:[(0,h.jsxs)("div",{className:r.paramItem,children:[(0,h.jsx)("span",{className:`${r.statusDot} ${r.statusRead}`}),"Editable Parameters"]}),(0,h.jsxs)("div",{className:r.paramItem,children:[(0,h.jsx)("span",{className:`${r.statusDot} ${r.statusEditable}`}),"Read-Only Parameters"]})]}),(0,h.jsx)("div",{className:r.bodyRightStatusRight,children:(0,h.jsx)("button",{className:r.saveButton,onClick:async()=>{se(!0);try{if(!oe)throw new Error("No machine selected!");if(!ue)throw new Error("No updated data yet!");const e=await m.AddSensorConfig(oe.machine_id,ue);me(null),Ce(oe),le(new c.u({message:e.message,level:1}))}catch(e){le(new c.u({message:e instanceof Error?e.message:e.toString(),level:3}))}finally{se(!1)}},children:"Save Change"})})]})]})]})})]})}),null!=he?(0,h.jsx)(d.A,{showPopup:pe,setShowPopup:ve,popUpPilihEntity:he}):(0,h.jsx)(h.Fragment,{})]})}},3950:(e,a,n)=>{n.d(a,{t:()=>r});var i=n(8443),t=n(2340);class r{static async GetAllMachine(e){let a=`${i.C}/api/v1/machine`;null!=e&&(a+=`?link_up_id=${e}`);const n=await t.A.fetchAuth(a);if(200!==n.status)throw new Error(n.message);const r=Array.isArray(n.data)?n.data:[],l=[];for(let i=0;i<r.length;i++)l.push({machine_id:r[i].machine_id,machine:r[i].machine,machine_warn:r[i].machine_warn,machine_alarm:r[i].machine_alarm,link_up:r[i].link_up,machine_type:r[i].machine_type,gateway_host:r[i].gateway_host,gateway_port:r[i].gateway_port,pressure_slave_id:r[i].pressure_slave_id,vibration_slave_id:r[i].vibration_slave_id});return l}static async AddMachine(e){let a=await t.A.fetchAuth(`${i.C}/api/v1/machine`,{method:"POST",body:JSON.stringify({...e}),headers:{"Content-Type":"application/json"}});if(200!==a.status)throw new Error(a.message);return a}static async UpdateMachine(e,a){let n=await t.A.fetchAuth(`${i.C}/api/v1/machine`,{method:"PATCH",body:JSON.stringify({machine_id:e,fields:a}),headers:{"Content-Type":"application/json"}});if(200!==n.status)throw new Error(n.message);return n}static async DeleteMachine(e){let a=await t.A.fetchAuth(`${i.C}/api/v1/machine`,{method:"DELETE",body:JSON.stringify({machine_id:e}),headers:{"Content-Type":"application/json"}});if(200!==a.status)throw new Error(a.message);return a}}},4761:(e,a,n)=>{n.d(a,{U:()=>i});class i{constructor(e){this.popupTitle=void 0,this.tableContent=void 0,this.onClick=void 0,this.onClose=void 0,this.popupTitle=e.popupTitle,this.tableContent=e.tableContent,this.onClick=e.onClick,this.onClose=e.onClose}}},5764:(e,a,n)=>{n.d(a,{A:()=>t});class i{}i.FilterTable=(e,a)=>{let n=Object.keys(e);for(let i=0;i<n.length;i++){const t=n[i];if(a[t]){if(void 0==e||null==e[t])return!1;if(""!==a[t]&&0==e[t].toString().toLowerCase().includes(a[t].toString().toLowerCase()))return!1}}return!0},i.SortingTable=(e,a,n)=>{if(null!=n&&void 0!=n&&void 0!==e[n]&&void 0!==a[n]){if("string"===typeof e[n]&&"string"===typeof a[n])return e[n].localeCompare(a[n]);if("number"===typeof e[n]&&"number"===typeof a[n])return e[n]-a[n]}return 0},i.FastIsEmpty=e=>{for(const a in e)return!1;return!0};const t=i},8682:(e,a,n)=>{n.d(a,{A:()=>o});var i=n(5043),t=n(8645),r=n(1982),l=n(5764),s=n(579);function o(e){const{showPopup:a,setShowPopup:n,popUpPilihEntity:o}=e,d=o.popupTitle,c=o.tableContent,_=o.onClick,u=o.onClose,[m,p]=(0,i.useState)({}),v=()=>{n(!1),p({}),u()};return(0,i.useEffect)(()=>{if(null===c||0===c.length)return;let e={};const a=Object.keys(c[0]);for(let n=0;n<a.length;n++)e[a[n]]="";p(e)},[c]),(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(t.A,{close:()=>v()}),(0,s.jsxs)("div",{className:r.A.modalmobile,id:a?null:r.A.hide,style:{maxWidth:"1200px"},children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",borderBottom:"1px solid silver"},children:[null!=d?(0,s.jsx)("h2",{style:{textTransform:"uppercase"},children:d.replace("_"," ")}):(0,s.jsx)("h2",{children:" \xa0"}),(0,s.jsx)("h2",{onClick:()=>v(),children:"X"})]})}),(0,s.jsx)("div",{children:0===c.length?(0,s.jsx)("table",{children:(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:(0,s.jsx)("th",{children:"no data available yet!"})})})}):(0,s.jsx)("div",{style:{maxHeight:"70vh",overflow:"auto",paddingBottom:"1rem"},children:(0,s.jsxs)("table",{className:"tablepopup",children:[(0,s.jsxs)("thead",{children:[(0,s.jsx)("tr",{children:Object.keys(c[0]).map(e=>(0,s.jsx)("th",{children:(0,s.jsxs)("label",{style:{fontSize:"12px",textTransform:"uppercase",fontWeight:"600",color:"white"},children:[e.replace("_"," ")," :"]})},`filter-${e}`))}),(0,s.jsx)("tr",{children:Object.keys(c[0]).map(e=>(0,s.jsx)("th",{children:(0,s.jsx)("input",{type:"text",id:`${e}`,name:e,value:m[e],onChange:e=>p(a=>({...a,[e.target.name]:e.target.value}))})},`filter-${e}`))})]}),(0,s.jsx)("tbody",{children:c.filter(e=>l.A.FilterTable(e,m)).map((e,a)=>(0,s.jsx)("tr",{onClick:()=>(e=>{n(!1),p({}),_(e)})(e),children:Object.keys(e).map(n=>(0,s.jsx)("td",{children:e[n]},`${a}-key${n}`))},`rowSelectTable-${a}`))})]})})})]})]})}}}]);
//# sourceMappingURL=556.bf1387ce.chunk.js.map