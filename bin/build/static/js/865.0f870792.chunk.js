"use strict";(self.webpackChunknagamas_frontend=self.webpackChunknagamas_frontend||[]).push([[865],{2087:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(1121),a=r(9223),l=r.n(a);const n=class{static export(e,t,r){const i=new(l().Workbook),a=i.addWorksheet(e),n=e=>e>=0&&e<=51?["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","AA","AB","AC","AD","AE","AF","AG","AH","AI","AJ","AK","AL","AM","AN","AO","AP","AQ","AR","AS","AT","AU","AV","AW","AX","AY","AZ"][e]:"Invalid number";t.map((e,t)=>{a.getColumn(`${n(t)}`).width=20,a.getCell(`${n(t)}1`).value=String(e.toUpperCase()),a.getCell(`${n(t)}1`).style={fill:{type:"pattern",pattern:"solid",fgColor:{argb:"c8c8c8"}},font:{bold:!0},alignment:{vertical:"middle",horizontal:"center"},border:{top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}}}}}),r.map((e,r)=>{const i=[];t.map(t=>{null!=e[t]?i.push(e[t]):i.push("")});a.addRow(i).eachCell(e=>{e.style={alignment:{vertical:"middle",horizontal:"center"},border:{top:{style:"thin",color:{argb:"000000"}},left:{style:"thin",color:{argb:"000000"}},right:{style:"thin",color:{argb:"000000"}},bottom:{style:"thin",color:{argb:"000000"}}}}})}),i.xlsx.writeBuffer().then(t=>{const r=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=document.createElement("a");i.href=window.URL.createObjectURL(r),i.download=`${e}.xlsx`,i.click(),window.URL.revokeObjectURL(i.href)})}static async import(e){const t=new(l().Workbook);await t.xlsx.load(e);const r=[];if(t.eachSheet(e=>{const t=[];e.eachRow(e=>{t.push(e.values)}),r.push(t)}),r.length>0){const e=r[0],t=[];for(let r=1;r<e.length;r++){const l={};for(let t=0;t<e[r].length;t++){var a;if(null!=e[0][t]&&"string"==typeof e[0][t])if(e[r][t]instanceof Date)l[e[0][t].toLowerCase()]=(0,i.GP)(e[r][t],"yyyy-MM-dd HH:mm:ss");else l[e[0][t].toLowerCase()]="object"==typeof e[r][t]?e[r][t].result:null!==(a=e[r][t])&&void 0!==a?a:""}t.push(l)}return t}return[]}}},5764:(e,t,r)=>{r.d(t,{A:()=>a});class i{}i.FilterTable=(e,t)=>{let r=Object.keys(e);for(let i=0;i<r.length;i++){const a=r[i];if(t[a]){if(void 0==e||null==e[a])return!1;if(""!==t[a]&&0==e[a].toString().toLowerCase().includes(t[a].toString().toLowerCase()))return!1}}return!0},i.SortingTable=(e,t,r)=>{if(null!=r&&void 0!=r&&void 0!==e[r]&&void 0!==t[r]){if("string"===typeof e[r]&&"string"===typeof t[r])return e[r].localeCompare(t[r]);if("number"===typeof e[r]&&"number"===typeof t[r])return e[r]-t[r]}return 0},i.FastIsEmpty=e=>{for(const t in e)return!1;return!0};const a=i},6278:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(5043),a=r(5843),l=r(579);function n(e){const{onVisible:t,content:r}=e,{ref:i}=(0,a.Wx)({threshold:.1,triggerOnce:!1,initialInView:!1,onChange:(e,r)=>{e&&t()}});return(0,l.jsx)("tr",{ref:i,children:r})}function o(e){const{tableData:t,rowFunction:r,onRowClick:a,rowsCount:o,rowsIncrement:s}=e,c=o,d=s,[u,m]=(0,i.useState)(c),_=(0,i.useMemo)(()=>{const e=[];for(let i=0;i<t.length;i++){if(i<u-c||i>u)continue;const o=t[i];e.push((0,l.jsxs)(l.Fragment,{children:[i==u?(0,l.jsx)(n,{content:(0,l.jsx)(l.Fragment,{}),onVisible:function(){m(e=>e+d),setTimeout(()=>{var e;null===(e=document.getElementById(`rows_${i}`))||void 0===e||e.scrollIntoView()})}}):(0,l.jsx)(l.Fragment,{}),i==u-c&&0!=i?(0,l.jsx)(n,{content:(0,l.jsx)(l.Fragment,{}),onVisible:function(){m(e=>e-d<c?c:e-d),setTimeout(()=>{var e;null===(e=document.getElementById(`rows_${i}`))||void 0===e||e.scrollIntoView()})}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)("tr",{id:`rows_${i}`,style:{whiteSpace:"nowrap"},onClick:()=>{null!=a&&a(o)},children:r(i,o)}),i==t.length-1?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:1e3,children:"END OF DATA"})}):(0,l.jsx)(l.Fragment,{})]}))}return e},[u,t]);return(0,i.useEffect)(()=>{m(c)},[t]),_.map(e=>e)}},6865:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var i=r(5043),a=r(8270),l=r(1121),n=r(2573),o=r(5764),s=r(414),c=r(184),d=r(3216),u=r(6278),m=r(2620),_=r(397),h=r(6361),f=r(2926),w=r(6058),v=r(8384),y=r(2087),b=r(579);h.t1.register(h.No,h.FN,h.kc,h.hE,h.PP,h.m_,h.s$),f.d.maintainAspectRatio=!1,f.d.responsive=!0;const p=e=>{let{realtime:t,setRealtime:r,refresh:h,start_date:f,end_date:p,setHandleGenerateExcel:g}=e;const x=(0,i.useContext)(n.A),A=x.contextAccessToken,E=x.contextShowAlertFunc,j=x.contextShowLoadingFunc,{machineId:C}=(x.stateShowLoading,(0,d.g)()),k="#fb8500",M="rgba(41, 191, 18, 0.21)",S="rgba(213, 14, 81, 0.2)",[$,N]=(0,i.useState)(new Date),[F,D]=(0,i.useState)(!0),[R,H]=(0,i.useState)("minutes_10"),[L,I]=(0,i.useState)("chart"),[P,B]=(0,i.useState)(null),[T,G]=(0,i.useState)("ascending"),[W,O]=(0,i.useState)([]),[V,U]=(0,i.useState)([]),z=(0,i.useRef)({}),[Y,J]=(0,i.useState)({}),[Z,q]=(0,i.useState)({labels:[],datasets:[]}),[X,K]=(0,i.useState)({}),Q=(0,i.useRef)(null),[ee,te]=(0,i.useState)([]),[re,ie]=(0,i.useState)([]),[ae,le]=(0,i.useState)({}),[ne,oe]=(0,i.useState)({labels:[],datasets:[]}),[se,ce]=(0,i.useState)({}),de=(0,i.useRef)(null);function ue(e){const t={};return"all"==R?{all:[...e].toReversed()}:(e.toReversed().forEach(e=>{const r=new Date(e.created_at),i=new Date(r);i.setMinutes(10*Math.floor(r.getMinutes()/10)),i.setSeconds(0),i.setMilliseconds(0);let a=(0,l.GP)(i,"yyyy-MM-dd HH:00:00");switch(R){case"hour":a=(0,l.GP)(i,"yyyy-MM-dd HH:00:00");break;case"minutes_10":a=(0,l.GP)(i,"yyyy-MM-dd HH:mm:00")}void 0==t[a]?t[a]=[]:t[a].push(e)}),t)}const me={id:"statusArea",beforeDatasetsDraw(e){var t,r,i,a;const l=Q.current,{ctx:n,chartArea:o,scales:s}=e;if(!o||!s.x||!s.y||null==(null===l||void 0===l?void 0:l.warning_limit)||null==(null===l||void 0===l?void 0:l.alarm_limit)||null==(null===l||void 0===l?void 0:l.warning_limit_bottom)||null==(null===l||void 0===l?void 0:l.alarm_limit_bottom))return;n.save();const c=s.y.min,d=null!==(t=l.alarm_limit_bottom)&&void 0!==t?t:0,u=s.y.getPixelForValue(c),m=s.y.getPixelForValue(d);n.fillStyle=S,n.fillRect(o.left,Math.min(u,m),o.right-o.left,Math.abs(u-m));const _=null!==(r=l.alarm_limit_bottom)&&void 0!==r?r:0,h=null!==(i=l.alarm_limit)&&void 0!==i?i:0,f=s.y.getPixelForValue(_),w=s.y.getPixelForValue(h);n.fillStyle=M,n.fillRect(o.left,Math.min(f,w),o.right-o.left,Math.abs(f-w));const v=null!==(a=l.alarm_limit)&&void 0!==a?a:0,y=s.y.max,b=s.y.getPixelForValue(v),p=s.y.getPixelForValue(y);n.fillStyle=S,n.fillRect(o.left,Math.min(b,p),o.right-o.left,Math.abs(b-p)),n.restore()}},_e=(e,t)=>{var r;const i=`${Math.floor(t.getMinutes()/10)}0`;let a=(0,l.GP)(t,"yyyy-MM-dd HH:00:00");switch(R){case"hour":a=(0,l.GP)(t,"yyyy-MM-dd HH:00:00");break;case"minutes_10":a=(0,l.GP)(t,`yyyy-MM-dd HH:${i}:00`);break;case"all":a="all"}const n=null!==(r=e[a])&&void 0!==r?r:[];if(!n)return;const o=n.map(e=>(0,l.GP)(e.created_at,"HH:mm:ss")),s=n.map(e=>e.value),c=n.toReversed();Q.current=c[0];const d=Math.min(...s),u=Math.max(...s),m=u-d||1,_=d-.2*m,h=u+.2*m;q({labels:o,datasets:[{label:"Electric",data:s,borderColor:k,pointBackgroundColor:k,pointBorderColor:"#ffffff",pointHoverBackgroundColor:"#ffffff",pointHoverBorderColor:k,borderWidth:4,pointRadius:0}]}),K({responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeInOutCubic"},plugins:{legend:{position:"top",labels:{color:"#fbeecc",font:{size:14,weight:500,family:"'Inter', 'Segoe UI', sans-serif"},usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{backgroundColor:"#1f2937",titleColor:"#f8fafc",bodyColor:"#cbd5e1",padding:12,borderColor:"#0077b6",borderWidth:1,cornerRadius:8,titleFont:{family:"'Inter', sans-serif",size:14,weight:600},bodyFont:{family:"'Inter', sans-serif",size:13}}},scales:{x:{grid:{color:"#0d2b35"},ticks:{color:"#fbeecc",font:{size:12,family:"'Inter', sans-serif"},maxRotation:45,minRotation:0}},y:{grid:{color:"#0d2b35"},ticks:{color:"#fbeecc",font:{size:12,family:"'Inter', sans-serif"},padding:8},min:_,max:h}},layout:{padding:{top:10,bottom:10,left:10,right:10}},elements:{line:{borderJoinStyle:"round"},point:{pointStyle:"circle"}}})},he=(e,t)=>{var r;return(0,b.jsx)("div",{children:(0,b.jsx)("input",{style:{fontSize:"12px",marginTop:"0.5dvh",width:"150px"},type:"text",value:null!==(r=Y[e])&&void 0!==r?r:"",placeholder:`${null!==t&&void 0!==t?t:e} ...`,onChange:t=>{J(r=>{const i={...r};return i[e]=t.target.value,i})}})})},fe=(e,t)=>(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"3px",whiteSpace:"nowrap",cursor:"pointer"},onClick:()=>{B(e),G("ascending"===T?"descending":"ascending")},children:[(0,b.jsx)("div",{children:null!==t&&void 0!==t?t:e}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0",alignItems:"center",justifyItems:"center"},children:[(0,b.jsx)(c.XhJ,{style:{color:P==e&&"descending"==T?"var(--secondary-color)":"silver",margin:0,padding:0,height:"18px"}}),(0,b.jsx)(c.GOR,{style:{color:P==e&&"ascending"==T?"var(--secondary-color)":"silver",margin:"-18px",padding:0,height:"18px"}})]})]}),we=(e,t)=>{let r="black",i="400";const{value:a,warning_limit:n,warning_limit_bottom:o,alarm_limit:s,alarm_limit_bottom:c}=t;return void 0!==s&&void 0!==c&&a<s&&a>c&&(r="green",i="bold"),void 0!==s&&void 0!==c&&(a>=s||a<=c)&&(r="red",i="bold"),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("td",{children:e+1}),(0,b.jsx)("td",{children:(0,l.GP)(t.created_at,"yyyy-MM-dd HH:mm:ss")}),(0,b.jsx)("td",{style:{color:r,fontWeight:i},children:a}),(0,b.jsx)("td",{children:n}),(0,b.jsx)("td",{children:s}),(0,b.jsx)("td",{children:o}),(0,b.jsx)("td",{children:c})]})};(0,i.useEffect)(()=>{(()=>{const e=V.filter(e=>o.A.FilterTable(e,Y)).sort((e,t)=>P?"ascending"==T?o.A.SortingTable(e,t,P):o.A.SortingTable(t,e,P):0);O(e)})()},[Y,P,T]),(0,i.useEffect)(()=>{(async e=>{e&&j(!0);try{const e=await v.F.DashboardLevel4((0,l.Yq)(f,"yyyy-MM-dd"),(0,l.Yq)(p,"yyyy-MM-dd"),Number(C));O(e),U(e);const t=ue(e);z.current=t;const r=Object.keys(t);if(r.length>0&&"all"!=R){const e=new Date(r[r.length-1]);N(e),_e(z.current,e)}else _e(z.current,$)}catch(t){E(new s.u({message:t instanceof Error?t.message:t.toString(),level:3}))}finally{j(!1)}})(0!=h)},[h]);const ve={id:"statusAreaRealtime",beforeDatasetsDraw(e){var t,r,i,a;const l=de.current,{ctx:n,chartArea:o,scales:s}=e;if(!o||!s.x||!s.y)return;if(!o||!s.x||!s.y||null==(null===l||void 0===l?void 0:l.warning_limit)||null==(null===l||void 0===l?void 0:l.alarm_limit)||null==(null===l||void 0===l?void 0:l.warning_limit_bottom)||null==(null===l||void 0===l?void 0:l.alarm_limit_bottom))return;n.save();const c=s.y.min,d=null!==(t=l.alarm_limit_bottom)&&void 0!==t?t:0,u=s.y.getPixelForValue(c),m=s.y.getPixelForValue(d);n.fillStyle=S,n.fillRect(o.left,Math.min(u,m),o.right-o.left,Math.abs(u-m));const _=null!==(r=l.alarm_limit_bottom)&&void 0!==r?r:0,h=null!==(i=l.alarm_limit)&&void 0!==i?i:0,f=s.y.getPixelForValue(_),w=s.y.getPixelForValue(h);n.fillStyle=M,n.fillRect(o.left,Math.min(f,w),o.right-o.left,Math.abs(f-w));const v=null!==(a=l.alarm_limit)&&void 0!==a?a:0,y=s.y.max,b=s.y.getPixelForValue(v),p=s.y.getPixelForValue(y);n.fillStyle=S,n.fillRect(o.left,Math.min(b,p),o.right-o.left,Math.abs(b-p)),n.restore()}},ye=(e,t)=>{var r;const i=`${Math.floor(t.getMinutes()/10)}0`;let a=(0,l.GP)(t,"yyyy-MM-dd HH:00:00");switch(R){case"hour":a=(0,l.GP)(t,"yyyy-MM-dd HH:00:00");break;case"minutes_10":a=(0,l.GP)(t,`yyyy-MM-dd HH:${i}:00`);break;case"all":a="all"}const n=null!==(r=e[a])&&void 0!==r?r:[];if(!n)return;const o=n.map(e=>(0,l.GP)(e.created_at,"HH:mm:ss")),s=n.map(e=>e.value),c=n[0];de.current=c;const d=Math.min(...s),u=Math.max(...s),m=u-d||1,_=d-.2*m,h=u+.2*m;oe({labels:o,datasets:[{label:"Electric",data:s,borderColor:k,pointBackgroundColor:k,pointBorderColor:"#ffffff",pointHoverBackgroundColor:"#ffffff",pointHoverBorderColor:k,borderWidth:4,pointRadius:0}]}),ce({responsive:!0,maintainAspectRatio:!1,animation:{duration:800,easing:"easeInOutCubic"},plugins:{legend:{position:"top",labels:{color:"#fbeecc",font:{size:14,weight:500,family:"'Inter', 'Segoe UI', sans-serif"},usePointStyle:!0,pointStyle:"rectRounded"}},tooltip:{backgroundColor:"#1f2937",titleColor:"#f8fafc",bodyColor:"#cbd5e1",padding:12,borderColor:"#0077b6",borderWidth:1,cornerRadius:8,titleFont:{family:"'Inter', sans-serif",size:14,weight:600},bodyFont:{family:"'Inter', sans-serif",size:13}}},scales:{x:{grid:{color:"#0d2b35"},ticks:{color:"#fbeecc",font:{size:12,family:"'Inter', sans-serif"},maxRotation:45,minRotation:0}},y:{grid:{color:"#0d2b35"},ticks:{color:"#fbeecc",font:{size:12,family:"'Inter', sans-serif"},padding:8},min:_,max:h}},layout:{padding:{top:10,bottom:10,left:10,right:10}},elements:{line:{borderJoinStyle:"round"},point:{pointStyle:"circle"}}})},be=(e,t)=>{var r;return(0,b.jsx)("div",{children:(0,b.jsx)("input",{style:{fontSize:"12px",marginTop:"0.5dvh",width:"150px"},type:"text",value:null!==(r=ae[e])&&void 0!==r?r:"",placeholder:`${null!==t&&void 0!==t?t:e} ...`,onChange:t=>{le(r=>{const i={...r};return i[e]=t.target.value,i})}})})},pe=(e,t)=>(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"3px",whiteSpace:"nowrap",cursor:"pointer"},onClick:()=>{B(e),G("ascending"===T?"descending":"ascending")},children:[(0,b.jsx)("div",{children:null!==t&&void 0!==t?t:e}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0",alignItems:"center",justifyItems:"center"},children:[(0,b.jsx)(c.XhJ,{style:{color:P==e&&"descending"==T?"var(--secondary-color)":"silver",margin:0,padding:0,height:"18px"}}),(0,b.jsx)(c.GOR,{style:{color:P==e&&"ascending"==T?"var(--secondary-color)":"silver",margin:"-18px",padding:0,height:"18px"}})]})]}),ge=async()=>{try{const e=await v.F.DashboardLevel4Realtime(Number(C));te(e),ie(e)}catch(e){E(new s.u({message:e instanceof Error?e.message:e.toString(),level:3}))}finally{j(!1)}};(0,i.useEffect)(()=>{if(t){ge();const e=setInterval(ge,3e3);return()=>{clearInterval(e)}}},[A,t]),(0,i.useEffect)(()=>{(()=>{const e=re.filter(e=>o.A.FilterTable(e,ae)).sort((e,t)=>P?"ascending"==T?o.A.SortingTable(e,t,P):o.A.SortingTable(t,e,P):0);te(e)})()},[ae,P,T]),(0,i.useEffect)(()=>{if(!t)return;if(!F)return;const e=ue(ee),r=new Date;r.setMinutes(10*Math.floor(r.getMinutes()/10)),N(r),ye(e,r)},[F,t,ee,R]),(0,i.useEffect)(()=>{if(!t)return;if(F)return;const e=ue(ee);ye(e,$)},[F,t,ee,$,R]),(0,i.useEffect)(()=>{t||_e(z.current,$)},[t,z.current,$]),(0,i.useEffect)(()=>{const e=ue(W);z.current=e;const t=Object.keys(e);if("all"!=R&&t.length>0){const e=new Date(t[t.length-1]);N(e)}else N(new Date)},[t,R]);const xe=(0,i.useMemo)(()=>"all"==R?"All Data":"hour"==R?(0,l.Yq)($,"dd MMM yyyy HH:00"):"minutes_10"==R?(0,l.Yq)($,"dd MMM yyyy HH:mm"):void 0,[$,R]),Ae=(e,r)=>{D(!1);const i=new Date($),a=10*Math.floor(i.getMinutes()/10);"hours"===r?i.setHours(i.getHours()+e,a,0,0):"minutes"===r&&i.setHours(i.getHours(),a+e,0,0),N(i),t||_e(z.current,i)},Ee=(e,t)=>{if(I(e),r(t),B(null),G("ascending"),le({}),"chart"==e)if(t){const e=ue(ee);ye(e,$)}else _e(z.current,$)},je=()=>{if(0==ee.length)return E(new s.u({message:"NO DATA!",level:3}));let e=[];for(let n=0;n<ee.length;n++){var t,r,i,a;e.push({created_at:(0,l.GP)("string"===typeof ee[n].created_at?new Date(ee[n].created_at):ee[n].created_at,"yyyy-MM-dd HH:mm:ss"),value:`${ee[n].value}`,warning_limit:`${null!==(t=ee[n].warning_limit)&&void 0!==t?t:""}`,alarm_limit:`${null!==(r=ee[n].alarm_limit)&&void 0!==r?r:""}`,warning_limit_bottom:`${null!==(i=ee[n].warning_limit_bottom)&&void 0!==i?i:""}`,alarm_limit_bottom:`${null!==(a=ee[n].alarm_limit_bottom)&&void 0!==a?a:""}`})}y.A.export("Electric Data Realtime",["created_at","value","warning_limit","alarm_limit","warning_limit_bottom","alarm_limit_bottom"],e)},Ce=()=>{if(0==W.length)return E(new s.u({message:"NO DATA!",level:3}));let e=[];for(let n=0;n<ee.length;n++){var t,r,i,a;e.push({created_at:(0,l.GP)("string"===typeof ee[n].created_at?new Date(ee[n].created_at):ee[n].created_at,"yyyy-MM-dd HH:mm:ss"),value:`${ee[n].value}`,warning_limit:`${null!==(t=ee[n].warning_limit)&&void 0!==t?t:""}`,alarm_limit:`${null!==(r=ee[n].alarm_limit)&&void 0!==r?r:""}`,warning_limit_bottom:`${null!==(i=ee[n].warning_limit_bottom)&&void 0!==i?i:""}`,alarm_limit_bottom:`${null!==(a=ee[n].alarm_limit_bottom)&&void 0!==a?a:""}`})}y.A.export("Electric Data",["created_at","value","warning_limit","alarm_limit","warning_limit_bottom","alarm_limit_bottom"],e)};return(0,i.useEffect)(()=>(g(t?()=>je:()=>Ce),()=>{g(null)}),[t,ee,W]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:a.A.cardBodyHeader,children:["chart"===L&&t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:a.A.headerChart,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:a.A.titleChart,children:xe}),(0,b.jsxs)("div",{className:a.A.chartButtons,style:{justifyContent:"end"},children:[(0,b.jsx)("button",{onClick:()=>H("hour"),className:"hour"===R?a.A.activeBtn:"",children:"Hour"}),(0,b.jsx)("button",{onClick:()=>H("minutes_10"),className:"minutes_10"===R?a.A.activeBtn:"",children:"Minute"}),(0,b.jsx)("button",{onClick:()=>H("all"),className:"all"===R?a.A.activeBtn:"",children:"All"})]})]}),(0,b.jsxs)("div",{className:a.A.bodyChart,children:[(0,b.jsx)("button",{className:a.A.buttonChart1,style:{borderRadius:"12px 0 0 12px"},onClick:()=>{"hour"==R?Ae(-1,"hours"):"minutes_10"==R&&Ae(-10,"minutes")},children:(0,b.jsx)(c.ed2,{})}),(0,b.jsx)("div",{className:a.A.wrapperChart,children:(0,b.jsx)(w.N1,{data:ne,options:se,plugins:[ve]})}),(0,b.jsx)("button",{className:a.A.buttonChart2,style:{borderRadius:"0 0 12px 0"},onClick:()=>{"hour"==R?Ae(1,"hours"):"minutes_10"==R&&Ae(10,"minutes")},children:(0,b.jsx)(c.FDZ,{})})]})]}),"table"===L&&t&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{style:{flex:1,overflowY:"auto"},className:"ordering-table",children:(0,b.jsxs)("table",{className:"tableclickcell",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"No"}),(0,b.jsxs)("th",{children:[pe("created_at","Waktu"),be("created_at","Waktu")]}),(0,b.jsxs)("th",{children:[pe("value","Electric"),be("value","Electric")]}),(0,b.jsxs)("th",{children:[pe("warning_limit","Warning Limit"),be("warning_limit","Warning Limit")]}),(0,b.jsxs)("th",{children:[pe("alarm_limit","Alarm Limit"),be("alarm_limit","Alarm Limit")]}),(0,b.jsxs)("th",{children:[pe("warning_limit_bottom","Warning Limit Bottom"),be("warning_limit_bottom","Warning Limit Bottom")]}),(0,b.jsxs)("th",{children:[pe("alarm_limit_bottom","Alarm Limit Bottom"),be("alarm_limit_bottom","Alarm Limit Bottom")]})]})}),o.A.FastIsEmpty(ee)?(0,b.jsx)("tbody",{children:(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:1e3,children:"No Data Available Yet !"})})}):(0,b.jsx)("tbody",{children:(0,b.jsx)(u.A,{tableData:ee,rowFunction:we,rowsCount:250,rowsIncrement:50})})]})})}),"chart"===L&&!t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:a.A.headerChart,children:[(0,b.jsx)("div",{}),(0,b.jsx)("div",{className:a.A.titleChart,children:xe}),(0,b.jsxs)("div",{className:a.A.chartButtons,style:{justifyContent:"end"},children:[(0,b.jsx)("button",{onClick:()=>H("hour"),className:"hour"===R?a.A.activeBtn:"",children:"Hour"}),(0,b.jsx)("button",{onClick:()=>H("minutes_10"),className:"minutes_10"===R?a.A.activeBtn:"",children:"Minute"}),(0,b.jsx)("button",{onClick:()=>H("all"),className:"all"===R?a.A.activeBtn:"",children:"All"})]})]}),(0,b.jsxs)("div",{className:a.A.bodyChart,children:[(0,b.jsx)("button",{className:a.A.buttonChart1,style:{borderRadius:"12px 0 0 12px"},onClick:()=>{"hour"==R?Ae(-1,"hours"):"minutes_10"==R&&Ae(-10,"minutes")},children:(0,b.jsx)(c.ed2,{})}),(0,b.jsx)("div",{className:a.A.wrapperChart,children:(0,b.jsx)(w.N1,{data:Z,options:X,plugins:[me]})}),(0,b.jsx)("button",{className:a.A.buttonChart2,style:{borderRadius:"0 0 12px 0"},onClick:()=>{"hour"==R?Ae(1,"hours"):"minutes_10"==R&&Ae(10,"minutes")},children:(0,b.jsx)(c.FDZ,{})})]})]}),"table"===L&&!t&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{style:{flex:1,overflowY:"auto"},className:"ordering-table",children:(0,b.jsxs)("table",{className:"tableclickcell",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"No"}),(0,b.jsxs)("th",{children:[fe("created_at","Waktu"),he("created_at","Waktu")]}),(0,b.jsxs)("th",{children:[fe("value","Electric"),he("value","Electric")]}),(0,b.jsxs)("th",{children:[fe("warning_limit","Warning Limit"),he("warning_limit","Warning Limit")]}),(0,b.jsxs)("th",{children:[fe("alarm_limit","Alarm Limit"),he("alarm_limit","Alarm Limit")]}),(0,b.jsxs)("th",{children:[fe("warning_limit_bottom","Warning Limit Bottom"),he("warning_limit_bottom","Warning Limit Bottom")]}),(0,b.jsxs)("th",{children:[fe("alarm_limit_bottom","Alarm Limit Bottom"),he("alarm_limit_bottom","Alarm Limit Bottom")]})]})}),o.A.FastIsEmpty(W)?(0,b.jsx)("tbody",{children:(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:1e3,children:"No Data Available Yet !"})})}):(0,b.jsx)("tbody",{children:(0,b.jsx)(u.A,{tableData:W,rowFunction:we,rowsCount:250,rowsIncrement:50})})]})})})]}),(0,b.jsxs)("div",{className:a.A.cardBodyFooter,children:[(0,b.jsxs)("div",{className:a.A.footerLeft,children:[(0,b.jsxs)("button",{className:`${a.A.buttonFooter} ${"chart"===L&&t?a.A.active:""}`,onClick:()=>{Ee("chart",!0)},children:[(0,b.jsx)(m.kk8,{}),(0,b.jsx)("span",{className:a.A.tooltipText,children:"Realtime Chart"})]}),(0,b.jsxs)("button",{className:`${a.A.buttonFooter} ${"table"===L&&t?a.A.active:""}`,onClick:()=>{Ee("table",!0)},children:[(0,b.jsx)(_.ZIs,{}),(0,b.jsx)("span",{className:a.A.tooltipText,children:"Realtime Table"})]})]}),(0,b.jsx)("div",{className:a.A.footerMid,children:"chart"===L&&t&&(0,b.jsxs)("div",{className:a.A.switchGroup,children:[(0,b.jsx)("label",{htmlFor:"auto",children:"Auto"}),(0,b.jsxs)("label",{className:a.A.switch,children:[(0,b.jsx)("input",{type:"checkbox",id:"auto",checked:F,onChange:()=>{D(e=>!e)}}),(0,b.jsx)("span",{className:a.A.slider})]})]})}),(0,b.jsxs)("div",{className:a.A.footerRight,children:[(0,b.jsxs)("button",{className:`${a.A.buttonFooter} ${"chart"!==L||t?"":a.A.active}`,onClick:()=>{Ee("chart",!1)},children:[(0,b.jsx)(c.YYR,{}),(0,b.jsx)("span",{className:a.A.tooltipText,children:"Chart"})]}),(0,b.jsxs)("button",{className:`${a.A.buttonFooter} ${"table"!==L||t?"":a.A.active}`,onClick:()=>{Ee("table",!1)},children:[(0,b.jsx)(c.ist,{}),(0,b.jsx)("span",{className:a.A.tooltipText,children:"Table"})]})]})]})]})}},8384:(e,t,r)=>{r.d(t,{$:()=>l,F:()=>n});var i=r(8443),a=r(2340);class l{static async GetAllElectric(e){let t=`${i.C}/api/extension/electric/v1`;null!=e&&(t+=`?link_up_id=${e}`);const r=await a.A.fetchAuth(t);if(200!==r.status)throw new Error(r.message);const l=Array.isArray(r.data)?r.data:[];for(let i=0;i<l.length;i++){if("number"!=typeof l[i].electric_id)throw new Error("invalid electric_id value");if("number"!=typeof l[i].link_up_id)throw new Error("invalid link_up_id value");if("string"!=typeof l[i].link_up)throw new Error("invalid link_up value");if("string"!=typeof l[i].parameter_name)throw new Error("invalid parameter_name value");if("string"!=typeof l[i].electric_tipe)throw new Error("invalid electric_tipe value");if(void 0!=l[i].electric_warn&&"number"!=typeof l[i].electric_warn)throw new Error("invalid electric_warn value");if(void 0!=l[i].electric_alarm&&"number"!=typeof l[i].electric_alarm)throw new Error("invalid electric_alarm value");if(void 0!=l[i].electric_bottom_warn&&"number"!=typeof l[i].electric_bottom_warn)throw new Error("invalid electric_bottom_warn value");if(void 0!=l[i].electric_bottom_alarm&&"number"!=typeof l[i].electric_bottom_alarm)throw new Error("invalid electric_bottom_alarm value");if("string"!=typeof l[i].electric_display_type)throw new Error("invalid electric_display_type value");if("string"!=typeof l[i].electric_unit)throw new Error("invalid electric_unit value")}return l}static async AddElectric(e){const t=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1`,{method:"POST",body:JSON.stringify({...e}),headers:{"Content-Type":"application/json"}});if(200!==t.status)throw new Error(t.message);return t}static async UpdateElectric(e,t){const r=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1`,{method:"PATCH",body:JSON.stringify({electric_id:e,fields:t}),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(r.message);return r}static async DeleteElectric(e){const t=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1`,{method:"DELETE",body:JSON.stringify({electric_id:e}),headers:{"Content-Type":"application/json"}});if(200!==t.status)throw new Error(t.message);return t}static async GetLinkUpConfig(e){let t=`${i.C}/api/extension/electric/v1/linkup`;null!=e&&(t+=`?link_up_id=${e}`);const r=await a.A.fetchAuth(t);if(200!==r.status)throw new Error(r.message);if(!Array.isArray(r.data))throw new Error("invalid link up config response");for(let i=0;i<r.data.length;i++){var l,n;const e=r.data[i];if("number"!=typeof e.link_up_id)throw new Error("invalid link_up_id value");if("number"!=typeof(null!==(l=e.electric_warn)&&void 0!==l?l:0))throw new Error("invalid electric_warn value");if("number"!=typeof(null!==(n=e.electric_alarm)&&void 0!==n?n:0))throw new Error("invalid electric_alarm value")}return r.data}static async UpsertLinkupConfig(e,t){const r=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/linkup`,{method:"PATCH",body:JSON.stringify({link_up_id:e,fields:t}),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(r.message);return r}static async GetBusinessUnitConfig(e){let t=`${i.C}/api/extension/electric/v1/business`;null!=e&&(t+=`?business_unit_id=${e}`);const r=await a.A.fetchAuth(t);if(200!==r.status)throw new Error(r.message);if(!Array.isArray(r.data))throw new Error("invalid link up config response");for(let i=0;i<r.data.length;i++){var l,n;const e=r.data[i];if("number"!=typeof e.business_unit_id)throw new Error("invalid business_unit_id value");if("number"!=typeof(null!==(l=e.electric_warn)&&void 0!==l?l:0))throw new Error("invalid electric_warn value");if("number"!=typeof(null!==(n=e.electric_alarm)&&void 0!==n?n:0))throw new Error("invalid electric_alarm value")}return r.data}static async UpsertBusinessUnitConfig(e,t){const r=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/business`,{method:"PATCH",body:JSON.stringify({business_unit_id:e,fields:t}),headers:{"Content-Type":"application/json"}});if(200!==r.status)throw new Error(r.message);return r}}class n{static async DashboardLevel1(e,t){const r=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l1?start_date=${e}&end_date=${t}`);if(200!==r.status)throw new Error(r.message);const l=Array.isArray(r.data)?r.data:[];for(let i=0;i<l.length;i++){if("number"!=typeof l[i].business_unit_id)throw new Error("invalid business_unit_id value");if("string"!=typeof l[i].business_unit)throw new Error("invalid business_unit value");if(!Array.isArray(l[i].electric_id_ool))throw new Error("invalid electric_id_ool value");if("number"!=typeof l[i].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof l[i].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof l[i].electric_red)throw new Error("invalid electric_red value");if(void 0!=l[i].electric_warn&&"number"!=typeof l[i].electric_warn)throw new Error("invalid electric_warn value");if(void 0!=l[i].electric_alarm&&"number"!=typeof l[i].electric_alarm)throw new Error("invalid electric_alarm value")}return l}static async DashboardLevel2(e,t,r){const l=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l2?business_unit_id=${r}&start_date=${e}&end_date=${t}`);if(200!==l.status)throw new Error(l.message);const n=Array.isArray(l.data)?l.data:[];for(let i=0;i<n.length;i++){if("number"!=typeof n[i].link_up_id)throw new Error("invalid link_up_id value");if("string"!=typeof n[i].link_up)throw new Error("invalid link_up value");if(!Array.isArray(n[i].electric_id_ool))throw new Error("invalid electric_id_ool value");if("number"!=typeof n[i].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof n[i].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof n[i].electric_red)throw new Error("invalid electric_red value");if(void 0!=n[i].electric_warn&&"number"!=typeof n[i].electric_warn)throw new Error("invalid electric_warn value");if(void 0!=n[i].electric_alarm&&"number"!=typeof n[i].electric_alarm)throw new Error("invalid electric_alarm value")}return n}static async DashboardLevel3(e,t,r){const l=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l3?link_up_id=${r}&start_date=${e}&end_date=${t}`);if(200!==l.status)throw new Error(l.message);const n=Array.isArray(l.data)?l.data:[];for(let i=0;i<n.length;i++){if("number"!=typeof n[i].electric_id)throw new Error("invalid dashboard electric_id value");if("string"!=typeof n[i].parameter_name)throw new Error("invalid dashboard parameter_name value");if("string"!=typeof n[i].electric_tipe)throw new Error("invalid dashboard electric_tipe value");if("number"!=typeof n[i].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof n[i].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof n[i].electric_red)throw new Error("invalid electric_red value");if(!n[i].last_electric_data)throw new Error("missing last_electric_data");if("number"!==typeof n[i].last_electric_data.electric_id)throw new Error("invalid last_electric_data.electric_id");if("number"!==typeof n[i].last_electric_data.value)throw new Error("invalid last_electric_data.value");if(void 0!=n[i].last_electric_data.warning_limit&&"number"!==typeof n[i].last_electric_data.warning_limit)throw new Error("invalid last_electric_data.warning_limit");if(void 0!=n[i].last_electric_data.alarm_limit&&"number"!==typeof n[i].last_electric_data.alarm_limit)throw new Error("invalid last_electric_data.alarm_limit");if(void 0!=n[i].last_electric_data.warning_limit_bottom&&"number"!==typeof n[i].last_electric_data.warning_limit_bottom)throw new Error("invalid last_electric_data.warning_limit_bottom");if(void 0!=n[i].last_electric_data.alarm_limit_bottom&&"number"!==typeof n[i].last_electric_data.alarm_limit_bottom)throw new Error("invalid last_electric_data.alarm_limit_bottom");if("string"!==typeof n[i].last_electric_data.created_at)throw new Error("invalid last_electric_data.created_at")}return n}static async DashboardLevel4(e,t,r){const l=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/data?electric_id=${r}&start_date=${e}&end_date=${t}`);if(200!==l.status)throw new Error(l.message);const n=Array.isArray(l.data)?l.data:[];for(let i=0;i<n.length;i++){if("number"!=typeof n[i].value)throw new Error("invalid value value");if(void 0!=n[i].warning_limit&&"number"!=typeof n[i].warning_limit)throw new Error("invalid warning_limit value");if(void 0!=n[i].alarm_limit&&"number"!=typeof n[i].alarm_limit)throw new Error("invalid alarm_limit value");if(void 0!=n[i].warning_limit_bottom&&"number"!=typeof n[i].warning_limit_bottom)throw new Error("invalid warning_limit_bottom value");if(void 0!=n[i].alarm_limit_bottom&&"number"!=typeof n[i].alarm_limit_bottom)throw new Error("invalid alarm_limit_bottom value");if("Invalid Date"==new Date(n[i].created_at).toString())throw new Error("invalid created_at value");n[i].created_at=new Date(n[i].created_at)}return n}static async DashboardLevel1Realtime(){const e=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l1/realtime`);if(200!==e.status)throw new Error(e.message);const t=Array.isArray(e.data)?e.data:[];for(let r=0;r<t.length;r++){if("number"!=typeof t[r].business_unit_id)throw new Error("invalid business_unit_id value");if("string"!=typeof t[r].business_unit)throw new Error("invalid business_unit value");if(!Array.isArray(t[r].electric_id_ool))throw new Error("invalid electric_id_ool value");if("number"!=typeof t[r].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof t[r].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof t[r].electric_red)throw new Error("invalid electric_red value");if(void 0!=t[r].electric_warn&&"number"!=typeof t[r].electric_warn)throw new Error("invalid electric_warn value");if(void 0!=t[r].electric_alarm&&"number"!=typeof t[r].electric_alarm)throw new Error("invalid electric_alarm value")}return t}static async DashboardLevel2Realtime(e){const t=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l2/realtime?business_unit_id=${e}`);if(200!==t.status)throw new Error(t.message);const r=Array.isArray(t.data)?t.data:[];for(let i=0;i<r.length;i++){if("number"!=typeof r[i].link_up_id)throw new Error("invalid link_up_id value");if("string"!=typeof r[i].link_up)throw new Error("invalid link_up value");if(!Array.isArray(r[i].electric_id_ool))throw new Error("invalid electric_id_ool value");if("number"!=typeof r[i].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof r[i].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof r[i].electric_red)throw new Error("invalid electric_red value");if(void 0!=r[i].electric_warn&&"number"!=typeof r[i].electric_warn)throw new Error("invalid electric_warn value");if(void 0!=r[i].electric_alarm&&"number"!=typeof r[i].electric_alarm)throw new Error("invalid electric_alarm value")}return r}static async DashboardLevel3Realtime(e){const t=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/l3/realtime?link_up_id=${e}`);if(200!==t.status)throw new Error(t.message);const r=Array.isArray(t.data)?t.data:[];for(let i=0;i<r.length;i++){if("number"!=typeof r[i].electric_id)throw new Error("invalid dashboard electric_id value");if("string"!=typeof r[i].parameter_name)throw new Error("invalid dashboard parameter_name value");if("string"!=typeof r[i].electric_tipe)throw new Error("invalid dashboard electric_tipe value");if("number"!=typeof r[i].electric_green)throw new Error("invalid electric_green value");if("number"!=typeof r[i].electric_yellow)throw new Error("invalid electric_yellow value");if("number"!=typeof r[i].electric_red)throw new Error("invalid electric_red value");if(!r[i].last_electric_data)throw new Error("missing last_electric_data");if("number"!==typeof r[i].last_electric_data.electric_id)throw new Error("invalid last_electric_data.electric_id");if("number"!==typeof r[i].last_electric_data.value)throw new Error("invalid last_electric_data.value");if(void 0!=r[i].last_electric_data.warning_limit&&"number"!==typeof r[i].last_electric_data.warning_limit)throw new Error("invalid last_electric_data.warning_limit");if(void 0!=r[i].last_electric_data.alarm_limit&&"number"!==typeof r[i].last_electric_data.alarm_limit)throw new Error("invalid last_electric_data.alarm_limit");if(void 0!=r[i].last_electric_data.warning_limit_bottom&&"number"!==typeof r[i].last_electric_data.warning_limit_bottom)throw new Error("invalid last_electric_data.warning_limit_bottom");if(void 0!=r[i].last_electric_data.alarm_limit_bottom&&"number"!==typeof r[i].last_electric_data.alarm_limit_bottom)throw new Error("invalid last_electric_data.alarm_limit_bottom");if("string"!==typeof r[i].last_electric_data.created_at)throw new Error("invalid last_electric_data.created_at")}return r}static async DashboardLevel4Realtime(e){const t=await a.A.fetchAuth(`${i.C}/api/extension/electric/v1/data/realtime?electric_id=${e}`);if(200!==t.status)throw new Error(t.message);const r=Array.isArray(t.data)?t.data:[];for(let i=0;i<r.length;i++){if("number"!=typeof r[i].value)throw new Error("invalid value value");if(void 0!=r[i].warning_limit&&"number"!=typeof r[i].warning_limit)throw new Error("invalid warning_limit value");if(void 0!=r[i].alarm_limit&&"number"!=typeof r[i].alarm_limit)throw new Error("invalid alarm_limit value");if(void 0!=r[i].warning_limit_bottom&&"number"!=typeof r[i].warning_limit_bottom)throw new Error("invalid warning_limit_bottom value");if(void 0!=r[i].alarm_limit_bottom&&"number"!=typeof r[i].alarm_limit_bottom)throw new Error("invalid alarm_limit_bottom value");if("Invalid Date"==new Date(r[i].created_at).toString())throw new Error("invalid created_at value");r[i].created_at=new Date(r[i].created_at)}return r}}}}]);
//# sourceMappingURL=865.0f870792.chunk.js.map